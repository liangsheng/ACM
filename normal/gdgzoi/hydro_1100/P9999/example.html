
    



<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <!-- Bootstrap 3.3.7 -->
  <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css"> 
  <!-- <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css">-->

  <!-- Font Awesome -->
  <link rel="stylesheet" href="bootstrap/css/font-awesome.min.css"> 
     <!--  <link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.css ">-->

  <!-- Ionicons -->
 <!-- <link rel="stylesheet" href="bower_components/Ionicons/css/ionicons.min.css">-->
  <!-- Theme style -->
  <link rel="stylesheet" href="dist/css/AdminLTE.min.css">
  <!-- AdminLTE Skins. Choose a skin from the css/skins
  folder instead of downloading all of them to reduce the load. -->
  <link rel="stylesheet" href="dist/css/skins/_all-skins.min.css">
  <!-- Morris chart -->
 <!--  <link rel="stylesheet" href="bower_components/morris.js/morris.css">-->
  <!-- jvectormap -->
   <!-- <link rel="stylesheet" href="bower_components/jvectormap/jquery-jvectormap.css">-->
  <!-- Date Picker -->
  <link rel="stylesheet" href="bootstrap/css/bootstrap-datepicker.min.css">
  <!-- Daterange picker 
  <link rel="stylesheet" href="bootstrap/css/daterangepicker.css">-->
  <!-- bootstrap wysihtml5 - text editor 
  <link rel="stylesheet" href="plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css">-->

<link rel="stylesheet" href="css/m.css">
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  <!-- Google Font 
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">-->
</head>
<body class="hold-transition skin-blue sidebar-mini sidebar-collapse">
  <div class="wrapper">
      <div style="min-height:80px" >

    <header  id='nav' class="main-header">
      <!-- Logo -->
      <a href="index.php" class="logo hidden-xs">
        <!-- 迷你模式LOGO 50x50 pixels -->
        <span class="logo-mini"><b>GZ<font color="red">O</font>I</b></span>
        <!-- logo for regular state and mobile devices -->
        <span class="logo-lg"><b>小视野信息学竞赛<font color="red">OJ</font></b></span>
      </a>
      <!-- Header Navbar: style can be found in header.less -->
      <nav  class="navbar navbar-static-top">
        <!-- Sidebar toggle button-->
        <a href="#" class="sidebar-toggle" data-toggle="push-menu" role="button">
          <i class="fa fa-navicon"></i>
          <span class="sr-only">Toggle navigation</span>
        </a>
        <a href="index.php" class="sidebar-toggle  " data-toggle="" role="button">
         <i class="fa fa-home" ></i>     
       </a>

    

       <a href="practice.php?prac_tag=P" class="sidebar-toggle" data-toggle="" role="button">
         <i class="fa fa-book"> <span class="hidden-xs">课程</span>一</i>
       </a>         
       <a href="practice.php?prac_tag=Q" class="sidebar-toggle" data-toggle="" role="button">
          <span class="hidden-xs"><i class="fa fa-book">课程</i></span>二
         <span class="sr-only">Toggle navigation</span>
       </a>  
       <a href="practice.php?prac_tag=R" class="sidebar-toggle" data-toggle="" role="button">
         <span class="hidden-xs"><i class="fa fa-book">课程</i></span>三
         <span class="sr-only">Toggle navigation</span>
       </a>  
        <a href="practice.php?prac_tag=A" class="sidebar-toggle" data-toggle="" role="button">
         <i class="fa fa-vcard-o"> <span class="hidden-xs">专题</span></i>
         <span class="sr-only">Toggle navigation</span>
       </a>  
    
       <a href="contest.php" class="sidebar-toggle " data-toggle="" role="button">
         <i class="fa fa-bitcoin"><span class="hidden-xs"> 比 赛</span></i>
         <span class="sr-only">Toggle navigation</span>
       </a>  










       <div class="navbar-custom-menu hidden-xs" >
        <ul class="nav navbar-nav">

  <!-- User Account: style can be found in dropdown.less    -->
 <li class='dropdown user user-menu'>
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              <img src="image/userimg.png" class="user-image" alt="User Image">
              梁胜<span class="caret"></span>
            </a>
            <ul class="dropdown-menu">
              <!-- User image -->
              <li class="user-header">
                <img src="image/userimg.png" class="img-circle" alt="User Image">

                <p>
                  梁胜 - OIer
                  <small>ls01</small>
                </p>
              </li>
              <!-- Menu Body -->
              <li class="user-body">
                <div class="row">
                  <div class="col-xs-6 text-center">
                    <a href="#">AC : 102</a>
                  </div>
                
                  <div class="col-xs-6 text-center">
                    <a href="#">Sumbit : 296</a>
                  </div>
                </div>
                <!-- /.row -->
              </li>
              <!-- Menu Footer-->
              <li class="user-footer">
                <div class="pull-left">
                  <a href="./userinfo.php?user=ls01" class="btn btn-default btn-flat">User Info</a>
                </div>
                <div class="pull-right">
                  <a href="./modifypage.php" class="btn btn-default btn-flat">ModifyUser</a>
                </div>
              </li>
            </ul>
          </li><li><a href="./logout.php">Logout</a></li><li><a href="./gzezadmin/">Admin</a></li>		
		<title>梁胜-ls01-小视野信息学竞赛</title>
		

		  
		

 




  <!-- Control Sidebar Toggle Button -->
  <li>
    <a href="#" data-toggle="control-sidebar"><i class="fa fa-gears"></i></a>
  </li>
</ul>
</div>
</nav>
</header>
</div>

 <div  >
<!-- Left side column. contains the logo and sidebar -->
<aside class="main-sidebar">
  <!-- sidebar: style can be found in sidebar.less -->
  <section class="sidebar">

    <!-- search form -->
    <form action="problemset.php" class="sidebar-form">
      <div class="input-group">
        <input type="text" name="search" class="form-control"  required  placeholder="题目搜索...">
        <span class="input-group-btn">
          <button type="submit"  id="search-btn" class="btn btn-flat"><i class="fa fa-search"></i>
          </button>
        </span>
      </div>
    </form>
    <!-- /.search form -->
    <!-- sidebar menu: : style can be found in sidebar.less -->
    <ul class="sidebar-menu" data-widget="tree">
      <li class="header">快速到达</li>

      <li class="active">
        <a href="index.php">
          <i class="fa fa-home"></i> <span> 首 页</span>
          <span class="pull-right-container">
            <small class="label pull-right bg-red"><i class="fa fa-home"></i></small>
          </span>
        </a>
      </li>  


      <li>
        <a href="practice.php?prac_tag=P">
          <i class="fa fa-book"></i> <span> 课程</span>
          <span class="pull-right-container">
            <small class="label pull-right bg-yellow"><i class="fa fa-book"></i></small>
          </span>
        </a>
      </li>
      
      
      
       <li>
        <a href="contest.php">
          <i class="fa fa-bitcoin"></i> <span> 比 赛</span>
          <span class="pull-right-container">
            <small class="label pull-right bg-yellow"><i class="fa fa-bitcoin"></i></small>
          </span>
        </a>
      </li>
      
      <li >
        <a href="practice.php?prac_tag=A">
          <i class="fa fa-vcard-o"></i>
          <span> 专 题</span>
          <span class="pull-right-container">
            <span class="label label-primary pull-right"><i class="fa fa-vcard-o"></i></span>
          </span>
        </a>
        
      </li>
     



      <li>
        <a href="problemset.php">
          <i class="fa fa-list"></i> <span> 题 目</span>
          <span class="pull-right-container">
            <small class="label pull-right bg-green"><i class="fa fa-list"></i></small>
          </span>
        </a>
      </li>
      <li>
        <a href="status.php">
          <i class="fa fa-refresh"></i> <span> 状 态</span>
          <span class="pull-right-container">
            <small class="label pull-right bg-green"><i class="fa fa-refresh"></i> </small>
          </span>
        </a>
      </li>    
       
       <li>
        <a href="ranklist.php">
          <i class="fa fa-list-ol"></i> <span> 排  名</span>
          <span class="pull-right-container">
            <small class="label pull-right bg-green"><i class="fa fa-list-ol"></i> </small>
          </span>
        </a>
      </li>    
      <li class="treeview">
        <a href="#">
          <i class="fa fa-wrench text-red"></i> <span> 工 具</span>
          <span class="pull-right-container">
            <i class="fa fa-angle-left pull-right"></i>
          </span>
        </a>
        <ul class="treeview-menu">
          <li ><a href="https://csacademy.com/app/graph_editor/" target="_blank"><i class="fa fa-circle-o text-red"></i> 图论工具</a></li>
          <li><a href="https://csacademy.com/app/geometry_widget/" target="_blank"><i class="fa fa-circle-o text-yellow"></i> 几何工具1</a></li>
          <li><a href="https://www.geogebra.org/geometry/" target="_blank"><i class="fa fa-circle-o text-yellow"></i> 几何工具2</a></li>
          <li><a href="https://csacademy.com/app/diffing_tool/" target="_blank"><i class="fa fa-circle-o text-aqua"></i> 文本对比</a></li>


        </ul>
      </li> 
    </ul>
  </section>
  <!-- /.sidebar -->
</aside>
 </div >
<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
  <!-- Content Header (Page header) -->
  

  <!-- 主体内容 -->
  <section class="content">
     
     

    <!-- Small boxes (Stat box) -->  
    <div class="row" >
      <!--注册提示框-->
      
      <div class="col-md-12 ">  
   <div class="box  box-info">
   
     
     
     
     


	    
      <!-- Main component for a primary marketing message or call to action -->
      <div class="main">
	
<link href='highlight/styles/shCore.css' rel='stylesheet' type='text/css'/>
<link href='highlight/styles/shThemeDefault.css' rel='stylesheet' type='text/css'/>
<script src='highlight/scripts/shCore.js' type='text/javascript'></script>
<script src='highlight/scripts/shBrushCpp.js' type='text/javascript'></script>
<script src='highlight/scripts/shBrushCss.js' type='text/javascript'></script>
<script src='highlight/scripts/shBrushJava.js' type='text/javascript'></script>
<script src='highlight/scripts/shBrushDelphi.js' type='text/javascript'></script>
<script src='highlight/scripts/shBrushRuby.js' type='text/javascript'></script>
<script src='highlight/scripts/shBrushBash.js' type='text/javascript'></script>
<script src='highlight/scripts/shBrushPython.js' type='text/javascript'></script>
<script src='highlight/scripts/shBrushPhp.js' type='text/javascript'></script>
<script src='highlight/scripts/shBrushPerl.js' type='text/javascript'></script>
<script src='highlight/scripts/shBrushCSharp.js' type='text/javascript'></script>
<script src='highlight/scripts/shBrushVb.js' type='text/javascript'></script>
<script language='javascript'>
SyntaxHighlighter.config.bloggerMode = false;
SyntaxHighlighter.config.clipboardSwf = 'highlight/scripts/clipboard.swf';
SyntaxHighlighter.all();
</script>
<a href='mail.php?to_user=2021qtdq6013&title=Submit 732872'>Mail the auther</a><pre class="brush:c++;">//Code by fjy666(https://www.luogu.com.cn/user/366338)
#include &lt;bits/stdc++.h&gt;
using namespace std;
#define _rep(i_,a_,b_) for(int i_ = (a_); i_ &lt;= (b_); ++i_)
#define mid ((L+R) &gt;&gt; 1)
// #define get(x) (((x) - 1) / kb + 1)
#define multiCase() int testCnt = in(); _rep(curCase,1,testCnt)
#define multi(init) int testCnt = (init); _rep(curCase,1,testCnt)
#ifdef ONLINE_JUDGE
#define debug(...) 0
#else
#define debug(...) fprintf(stderr, __VA_ARGS__), fflush(stderr)
#endif
typedef long long ll;

int in(void) { int x; scanf(&quot;%d&quot;, &amp;x); return x; }
ll inl(void) { ll x; scanf(&quot;%lld&quot;, &amp;x); return x; }
void out(int x) { printf(&quot;%d &quot;, x); }
void outln(int x) { printf(&quot;%d\n&quot;, x); }
void out(ll x) { printf(&quot;%lld &quot;, x); }
void outln(ll x) { printf(&quot;%lld\n&quot;, x); }
template&lt;typename T&gt; void chkmax(T &amp;a, const T &amp;b) { a = max(a, b); }
template&lt;typename T&gt; void chkmin(T &amp;a, const T &amp;b) { a = min(a, b); }
const int kN = 10050, kK = 18;
#define int long long
vector&lt;pair&lt;int,int&gt; &gt; g[kN];
int n = in(), m = in(), k = in(), t = in();
int shit[kN]; ll dis[kK][kN];
void dij(int x) {
	//outln(shit[x]);
	memset(dis[x], 0x3f, sizeof(dis[x]));
	dis[x][shit[x]] = 0; 
	priority_queue&lt;pair&lt;ll, int&gt;, vector&lt;pair&lt;ll, int&gt; &gt;, greater&lt;pair&lt;ll, int&gt; &gt; &gt; q;
	q.push(make_pair(dis[x][shit[x]], shit[x]));
	while(!q.empty()) {
		pair&lt;ll, int&gt; u = q.top(); q.pop();
		if(dis[x][u.second] != u.first) continue;
		for(pair&lt;int,int&gt; &amp;e : g[u.second]) 
			if(dis[x][e.first] &gt; u.first + e.second) q.push(make_pair(dis[x][e.first] = u.first + e.second, e.first));
	}
	//_rep(i,1,n) out(dis[x][i]); puts(&quot;&quot;);
}
ll f[kK][1 &lt;&lt; kK];
int EDqwq(int x) {
	int cnt = 0;
	while(x) ++cnt, x &amp;= x-1;
	return cnt;
}
signed main() {
	_rep(i,1,m) {
		int a = in(), b = in(), c = in();	
		g[a].push_back(make_pair(b, c));
		g[b].push_back(make_pair(a, c));
	}
	_rep(i,1,k) shit[i] = in(); shit[0] = 1, shit[++k] = n;
	_rep(i,0,k) dij(i); 
	memset(f, 0x3f, sizeof(f));
	f[0][1] = 0;
	for(int i = 0; i &lt; (1 &lt;&lt; (k + 1)); ++i) _rep(j,0,k) if(f[j][i] != 0x3f3f3f3f3f3f3f3fll) {
		//debug(&quot;f[%d][%d] = %d\n&quot;, j, i, f[j][i]);
		_rep(to,0,k) if(to != j) {
			ll tmp = f[j][i] + dis[j][shit[to]];
			if(tmp &gt; t) continue;
			chkmin(f[to][i | (1 &lt;&lt; to)], tmp);
		}
	}
	int friends = -1; ll tim = -1;
	for(int i = 0; i &lt; (1 &lt;&lt; (k + 1)); ++i) if((i &amp; 1) &amp;&amp; (i &amp; (1 &lt;&lt; k)) &amp;&amp; f[0][i] != 0x3f3f3f3f3f3f3f3fll) {
		int flg = EDqwq(i) - 2;
		if(flg &gt; friends || (flg == friends &amp;&amp; f[0][i] &lt; tim)) friends = flg, tim = f[0][i];
	}
	if(friends == -1) outln(-1);
	else out(friends), outln(tim);
	return 0;
}
/**************************************************************
	Problem: 3444
	User: 2021qtdq6013
	Language: C++
	Result: Accepted
	Time:192 ms
	Memory:43784 kb
****************************************************************/

</pre>      </div>



    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
      </section>
  </div>
 

     <!-- Control Sidebar -->
 <aside class="control-sidebar control-sidebar-dark">
        <!-- Create the tabs -->
        <ul class="nav nav-tabs nav-justified control-sidebar-tabs">
     <!-- <li><a href="#control-sidebar-home-tab" data-toggle="tab"><i class="fa fa-home"></i></a></li>
      <li><a href="#control-sidebar-settings-tab" data-toggle="tab"><i class="fa fa-gears"></i></a></li>
    -->
  </ul>
  <!-- Tab panes -->
  <div class="tab-content">
    <!-- Home tab content -->
    <div class="tab-pane" id="control-sidebar-home-tab">

      <!-- /.control-sidebar-menu -->

    </div>
    <!-- /.tab-pane -->
    <!-- Stats tab content -->
    <div class="tab-pane" id="control-sidebar-stats-tab">Stats Tab Content</div>
    <!-- /.tab-pane -->

    <!-- /.tab-pane -->
  </div>
</aside>
<!-- /.control-sidebar -->
  <!-- Add the sidebar's background. This div must be placed
  immediately after the control sidebar -->
  <div class="control-sidebar-bg"></div>
  
  
    
  
<div class="csdn-side-toolbar " >
    
      <a class='option-box ' onclick='return true;' href='mailnew.php'  data-type='report'>  <img src=' image/news1.png' alt='' srcset=''>    <a class="option-box" onclick="window.scrollTo(0,0);return false;" href="#top" data-type="gotop">
      <img src="https://g.csdnimg.cn/side-toolbar/3.1/images/fanhuidingbucopy.png" alt="" srcset="">
      
    </a>
    
  </div>

<style>
    .csdn-side-toolbar {
    position: fixed;
    right: 24px;
    bottom: 160px;
    width: 44px;
    z-index: 1999;
}

.csdn-side-toolbar {
    z-index: 998 !important;
}

.csdn-side-toolbar {
    bottom: 30px !important;
}
.csdn-side-toolbar a.option-box img {
    display: block;
    width: 24px;
}

.csdn-side-toolbar a.option-box {
    position: relative;
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-orient: vertical;
    -webkit-box-direction: normal;
    -ms-flex-direction: column;
    flex-direction: column;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    -webkit-box-pack: center;
    -ms-flex-pack: center;
    justify-content: center;
    border-radius: 50%;
    background: #000;
    -webkit-box-shadow: 0 2px 4px 0 rgba(0,0,0,.05);
    box-shadow: 0 2px 4px 0 rgba(0,0,0,.05);
    background-color: #fff;
    text-align: center;
    height: 44px;
    cursor: pointer;
    margin-top: 8px;
}

.csdn-side-toolbar a.option-box .news {
    
    position: fixed;
    right: 25px;
    width: 15px;
    display: inline-block;
    font-weight: 700;
    line-height: 1;
    color: #fff;
    text-align: center;
    white-space: nowrap;
    vertical-align: baseline;
    background-color: #dd4b39;
    border-radius: 10px;
    
}



.csdn-side-toolbar a.option-box .show-txt {
    display: none;
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: 50%;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    -webkit-box-pack: center;
    -ms-flex-pack: center;
    justify-content: center;
    font-size: 12px;
    line-height: 14px;
    color: #999aaa;
    background-color: #fff;
    text-align: center;
    opacity: 0;
    -webkit-transition: opacity .3s ease-in-out;
    transition: opacity .3s ease-in-out;
}
</style>




	<!-- <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script> Add by parsons-->
	<!--<script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>  Add by parsons-->

	<script src="time/js/jquery.min.js"></script> 
	<script src="bootstrap/js/bootstrap.min.js"></script>
<!--
	
<script src="http://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="http://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
-->
<!-- Bootstrap 3.3.7 -->




<script src="dist/js/adminlte.min.js"></script>
<script src="dist/js/demo.js"></script>

<script>
        $(document).ready(function(){
            //获取nav距离顶部的距离
             var navtop=$("#nav").offset().top;
          // alert('navtop');
          var  hh=window.screen.availHeight;
           
             $(document).scroll(function(){
                 //获取滚动条滚动的高度
                 var scroltop=$(document).scrollTop();
                 if (scroltop> navtop){
                      $("#nav").css({
                          "position":"fixed",
                          "left":"0px",
                          "top":"0px",
                          "width":"100%"
                      }),
                       $("#navi").css({
                          "position":"fixed",
                          "left":"0px",
                          "top":"0px",
                          "width":"100%"
                      }  )
                 }
                 
                 /*else {
                    
                        $("#navi").css({
                         "position":"",
                         "left":"",
                         "top":"",
                         "width":"%"
                     })
                 }*/
             })
        })
    </script>





<!--  to enable mathjax in hustoj:
svn export http://github.com/mathjax/MathJax/trunk /home/judge/src/web/mathjax
<script type="text/javascript"
  src="mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
or  -->
<!--
<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>   -->
<!--  to enable mathjax in hustoj:  end-->

<script>
$(document).ready(function(){
  var msg="<marquee style='margin-top:10px' id=broadcast direction='left' scrollamount=3 scrolldelay=50 onMouseOver='this.stop()'"+
      " onMouseOut='this.start()' class=toprow>"+""+"</marquee>";
  $(".jumbotron").prepend(msg);
  $("form").append("<div id='csrf' />");
 // $("#csrf").load("csrf.php");
 // $("body").append("<div id=footer class=center >GPLv2 licensed by <a href='https://github.com/zhblue/hustoj' >HUSTOJ</a> "+(new Date()).getFullYear()+" </div>");
  //$("body").append("<div class=center > <img src='http://hustoj.com/wx.jpg' width='120px'><img src='http://hustoj.com/alipay.png' width='120px'><br> 欢迎关注微信公众号onlinejudge</div>");
});

$(".hint pre").each(function(){
	var plus="<span class='glyphicon glyphicon-plus'>Click</span>";
	var content=$(this);
	$(this).before(plus);
	$(this).prev().click(function(){
		content.toggle();
	});
	
});

 // console.log("If you want to change the appearance of the web pages, make a copy of bs3 under template directory.\nRename it to whatever you like, and change the $OJ_TEMPLATE value in db_info.inc.php\nAfter that modify files under your own directory .\n");
 // console.log("To enable mathjax in hustoj, check line 15 in /home/judge/src/web/template/bs3/js.php");

</script>

   <footer class="main-footer">
        <div class="pull-right hidden-xs">
        Powered by  GZOI  <b>Version</b> 2.1
        </div>
        <strong>小视野信息学竞赛学习园地| <a href="https://beian.miit.gov.cn">粤ICP备16049495号</a></strong> All rights reserved.
      </footer>	    
  </body>
</html>
<!--not cached-->

